(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{444:function(t,e,n){var content=n(723);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(209).default)("24b5624b",content,!0,{sourceMap:!1})},722:function(t,e,n){"use strict";n(444)},723:function(t,e,n){var r=n(208)((function(i){return i[1]}));r.push([t.i,".cardFlat[data-v-8677219a]{position:relative;transition:.3s}.cardFlatNavmenu[data-v-8677219a]{left:0;position:absolute;top:0;z-index:2}.cardFlatRooms[data-v-8677219a]{bottom:0;color:#8a8a8a;font-size:450px;font-weight:900;line-height:250px;margin-right:-10px;pointer-events:none;position:absolute;right:0;rotate:0deg;transition:.5s}.cardFlat:hover .cardFlatRooms[data-v-8677219a]{color:green;rotate:5deg}.cardFlat[data-v-8677219a]:hover{transition:.3s}#cardFlatImage[data-v-8677219a]:hover{transform:rotateY(30deg);transition:.3s}@keyframes morphing-8677219a{0%{border-radius:10% 4% 4% 10%/10% 10% 4% 4%}25%{border-radius:8% 2% 5% 5%/6% 6% 4% 4%}50%{border-radius:10% 10% 3% 17%/5% 7% 3% 5%}75%{border-radius:3% 7% 8% 4%/3% 8% 3% 7%}}",""]),r.locals={},t.exports=r},815:function(t,e,n){"use strict";n.r(e);var r=n(40),l=(n(83),n(240),n(241),n(215),n(57),{props:["prds","database","imageHeight"],data:function(){return{flr:null,flt:null,planImage:!1,flat:null,floor:null,section:null,building:null,project:null}},mounted:function(){this.getData(),this.createFlatPlan()},methods:{getData:function(){var t=this;void 0!==this.database&&(this.flat=this.$store.state.rs.data.flts.find((function(e){return e._id===t.prds[0].flt})),this.floor=this.$store.state.rs.data.flrs.find((function(e){return e._id===t.flat.flrs[0]})),this.section=this.$store.state.rs.data.scts.find((function(s){return s._id===t.floor.sct})),this.building=this.$store.state.rs.data.blds.find((function(b){return b._id===t.section.bld})),this.project=this.$store.state.rs.data.prjs.find((function(p){return p._id===t.building.prj})))},getAnimatedClass:function(){var t=["bounceIn","bounceInDown","bounceInLeft","bounceInRight","bounceInUp"];return t[Math.floor(Math.random()*t.length)]},getFlt:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("https://storage.yandexcloud.net/360m-json/clients/smcity/flts/"+t.prds[0].flt+".json");case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})))()},createFlatPlan:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,polygon,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://storage.yandexcloud.net/360m-fastmedia/clients/smcity/flrs/"+t.floor._id+"/"+t.floor._id+".webp",e.next=4,t.$axios.$get(n);case 4:e.sent,t.planImage=!0,console.log(t.planImage),document.getElementById("planImage"+t.prds[0].flt).setAttribute("href",n),(polygon=document.getElementById("planPolygon"+t.prds[0].flt)).setAttribute("points",t.flat.polygon),r=polygon.getBBox(),document.getElementById("planSvg"+t.prds[0].flt).setAttribute("viewBox",r.x+" "+r.y+" "+r.width+" "+r.height),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))()}}}),o=(n(722),n(203)),component=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardFlat"},[e("div",{staticClass:"d-flex justify-content-center align-items-center overflow-hidden bg-white p-5 shadow-sm rounded-xl animate__animated animate__flipInX",style:"height:"+t.imageHeight+"px;",attrs:{id:"cardFlatImage"}},[e("div",{staticClass:"d-flex justify-content-center align-items-center w-100 h-100"},[e("svg",{staticStyle:{"max-height":"100%"},attrs:{id:"planSvg"+t.prds[0].flt,xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",version:"1.1"}},[e("clipPath",{attrs:{id:"planClip"+t.prds[0].flt}},[e("polygon",{attrs:{stroke:"black","stroke-width":"20px",id:"planPolygon"+t.prds[0].flt,fill:"black"}})]),t._v(" "),e("image",{attrs:{id:"planImage"+t.prds[0].flt}})])])]),t._v(" "),e("div",{staticClass:"d-flex flex-column p-4 overflow-hidden"},[e("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"h1 my-0 font-weight-black"},[t._v("\n                    "+t._s(t.prds[0].square)+"\n                    "),t._m(0)])]),t._v(" "),e("Button",{staticClass:"d-flex flex-grow align-items-center justify-content-center rounded-circle p-3 my-0 animate__animated animate__rotateIn animate__delay-1s",staticStyle:{width:"50px",height:"50px"},attrs:{icon:["fas","play"],variant:"success"},on:{click:function(e){return t.$emit("open",t.prds[0]._id)}}})],1),t._v(" "),e("div",{staticClass:"d-flex flex-grow justify-content-between align-items-center mb-1"},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"h6 my-0"},[null!==t.project&&void 0!==t.project.title?e("span",[t._v(t._s(t.project.title))]):t._e()]),t._v(" "),e("span",{staticClass:"d-flex flex-grow fontsize13"},[null!==t.building&&void 0!==t.building.title?e("span",[t._v(t._s(t.building.prefix)+" "+t._s(t.building.title))]):t._e()])]),t._v(" "),e("Button",{staticClass:"d-flex rounded-circle p-3 h4 my-0",attrs:{icon:["fas","heart"],variant:"light"},on:{click:function(e){return t.$emit("like")}}})],1),t._v(" "),e("div",{staticClass:"d-flex flex-grow justify-content-between"},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"h4 my-0 font-weight-black"},[t._v("\n                    "+t._s(new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(t.prds[0].price))+"\n                ")]),t._v(" "),e("span",{staticClass:"my-0 text-success"},[e("span",[t._v("\n                        "+t._s(new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(t.prds[0].price/t.prds[0].square+1e3))+"\n                        / мес.\n                    ")])])])]),t._v(" "),e("transition",{attrs:{"enter-active-class":"animate__animated animate__fadeInUp","leave-active-class":"animate__animated animate__fadeOutDown animate__faster",mode:"out-in",appear:""}},[e("span",{staticClass:"cardFlatRooms"},[void 0!==t.prds[0]?e("span",{staticStyle:{opacity:"0.1"}},[t._v(t._s(t.prds[0].rooms))]):e("span",[t._v("0")])])])],1)])}),[function(){var t=this,e=t._self._c;return e("span",{staticClass:"h4 my-0 text-muted"},[t._v("м"),e("sup",[t._v("2")])])}],!1,null,"8677219a",null);e.default=component.exports}}]);